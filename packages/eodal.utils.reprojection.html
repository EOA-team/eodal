
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eodal.utils.reprojection module &#8212; eodal 0.2.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="eodal.utils.sentinel1 module" href="eodal.utils.sentinel1.html" />
    <link rel="prev" title="eodal.utils.geometry module" href="eodal.utils.geometry.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-eodal.utils.reprojection">
<span id="eodal-utils-reprojection-module"></span><h1>eodal.utils.reprojection module<a class="headerlink" href="#module-eodal.utils.reprojection" title="Permalink to this heading">¶</a></h1>
<p>Functions for reprojecting vector and raster data from one spatial
coordinate reference system into another one.</p>
<p>Copyright (C) 2022 Samuel Wildhaber and Lukas Valentin Graf</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="eodal.utils.reprojection.UTMZone">
<span class="sig-prename descclassname"><span class="pre">eodal.utils.reprojection.</span></span><span class="sig-name descname"><span class="pre">UTMZone</span></span><a class="headerlink" href="#eodal.utils.reprojection.UTMZone" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eodal.utils.reprojection.check_aoi_geoms">
<span class="sig-prename descclassname"><span class="pre">eodal.utils.reprojection.</span></span><span class="sig-name descname"><span class="pre">check_aoi_geoms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">GeoDataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_bounding_box_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raster_crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">CRS</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/eodal/utils/reprojection.html#check_aoi_geoms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eodal.utils.reprojection.check_aoi_geoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the provided vector file. If necessary it reprojects
the vector data in the reference system of the provided raster
data. If the full bounding box shall be used (e.g., the hull
encompassing all provided vector geometries) it only returns
this geometry (of type Polygon).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Does not check for spatial intersects, overlaps, etc.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_file_aoi</strong> – vector file (e.g., ESRI shapefile or geojson) defining geometry/ies
for which to extract raster data.</p></li>
<li><p><strong>fname_raster</strong> – raster file to which to map the vector features. Can be ignored if
a <code class="docutils literal notranslate"><span class="pre">raster_crs</span></code> is available</p></li>
<li><p><strong>full_bounding_box_only</strong> – if set to False, will only extract the data for those geometry/ies
defined in in_file_aoi. If set to False, returns the data for the
full extent (hull) of all features (geometries) in in_file_aoi.</p></li>
<li><p><strong>raster_crs</strong> – spatial reference system of the raster as EPSG code or <code class="docutils literal notranslate"><span class="pre">CRS</span></code> object.
Can be ignored if <code class="docutils literal notranslate"><span class="pre">fname_sat</span></code> is available.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>GeoDataFrame with one up to many vector geometries</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eodal.utils.reprojection.infer_utm_zone">
<span class="sig-prename descclassname"><span class="pre">eodal.utils.reprojection.</span></span><span class="sig-name descname"><span class="pre">infer_utm_zone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Polygon</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MultiPolygon</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/eodal/utils/reprojection.html#infer_utm_zone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eodal.utils.reprojection.infer_utm_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the EPSG code of the UTM zone a geometry with geographic coordinates
lies in (i.e., its centroid)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shape</strong> – geometry in geographic coordinates (WGS84) for which to check
the corresponding UTM zone</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eodal.utils.reprojection.reproject_raster_dataset">
<span class="sig-prename descclassname"><span class="pre">eodal.utils.reprojection.</span></span><span class="sig-name descname"><span class="pre">reproject_raster_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Affine</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/eodal/utils/reprojection.html#reproject_raster_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eodal.utils.reprojection.reproject_raster_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-projects a raster dataset into another spatial coordinate reference
system by calling <code class="docutils literal notranslate"><span class="pre">rasterio.warp.reproject</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raster</strong> – either a file-path to a raster dataset or a numpy array
containing band data to reproject</p></li>
<li><p><strong>kwargs</strong> – kwargs required by <code class="docutils literal notranslate"><span class="pre">rasterio.warp.reproject</span></code>. See rasterio’s docs
for more information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple containing the reprojected raster dataset (file-path or array)
and the <code class="docutils literal notranslate"><span class="pre">Affine</span></code> transformation parameters of the reprojected dataset</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">eodal</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Table of Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="eodal.html">eodal package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../source/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">API Reference</a><ul>
  <li><a href="eodal.html">eodal package</a><ul>
  <li><a href="eodal.utils.html">eodal.utils package</a><ul>
      <li>Previous: <a href="eodal.utils.geometry.html" title="previous chapter">eodal.utils.geometry module</a></li>
      <li>Next: <a href="eodal.utils.sentinel1.html" title="next chapter">eodal.utils.sentinel1 module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Crop Science, Institute of Agricultural Sciences, D-USYS, ETH Zurich, Zurich, Switzerland;
Earth Observation of Agroecosystems Team, Division Agroecology and Environment, Agroscope, Zurich, Switzerland.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/packages/eodal.utils.reprojection.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>